{"version":3,"sources":["api.ts","components/useExchange.ts","components/Exchanger.tsx","components/Logo.tsx","App.tsx","index.tsx"],"names":["api","fromCurrency","toCurrency","startDate","a","url","fetch","res","json","useExchange","exchangedAmount","useState","inputOne","setinputOne","inputTwo","setinputTwo","currencyOne","setCurrencyOne","currencyTwo","setCurrencyTwo","rate","setRate","inputOneChanged","setInputOneChanged","dateToday","Date","toISOString","replace","split","join","setStartDate","processData","data","rates","useEffect","getRates","parseFloat","toFixed","resultField","currencyOneChange","e","currentTarget","value","currencyTwoChange","inputOneChange","Number","inputTwoChange","resultFieldDisplay","displayFieldPadding","paddingTop","inputOneValue","undefined","inputTwoValue","disabledOptionSelectOne","props","disabledOptionSelectTwo","Exchanger","exchangedValues","className","type","name","onChange","target","max","placeholder","autoFocus","disabled","href","Logo","src","alt","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4ccf3a60.chunk.js","sourcesContent":["export type Currency = \"USD\" | \"EUR\" | \"PLN\";\n\nexport type Rates = Record<Currency, number>;\n\ninterface ApiResponse {\n  success: boolean;\n  timestamp: number;\n  base: Currency;\n  date: string;\n  rates: Rates;\n}\n\nexport async function api(\n  fromCurrency: Currency,\n  toCurrency: Currency,\n  startDate: string\n): Promise<ApiResponse> {\n  const url = `http://api.exchangeratesapi.io/v1/${startDate}?access_key=4b94652614852d67e26f6271773b4bbc&base=${fromCurrency}&symbols=${toCurrency}`;\n  const res = await fetch(url);\n  return res.json();\n}\n","//custom hook\nimport { useEffect, useState } from \"react\";\nimport { api, Currency } from \"../api\";\n\nexport function useExchange() {\n  const [inputOne, setinputOne] = useState<number | null>(null);\n  const [inputTwo, setinputTwo] = useState<number | null>(null);\n  const [currencyOne, setCurrencyOne] = useState<Currency>(\"EUR\");\n  const [currencyTwo, setCurrencyTwo] = useState<Currency>(\"USD\");\n  const [rate, setRate] = useState<number>(1);\n  const [inputOneChanged, setInputOneChanged] = useState<Boolean>(false);\n  const dateToday = new Date()\n    .toISOString()\n    .replace(/T.*/, \"\")\n    .split(\"-\")\n    .join(\"-\");\n  const [startDate, setStartDate] = useState<string>(dateToday);\n\n  useEffect(() => {\n    getRates();\n  }, [currencyOne, currencyTwo, startDate]);\n\n  function inputOneChange(e: React.FormEvent<HTMLInputElement>) {\n    setinputOne(Number(e.currentTarget.value));\n    setInputOneChanged(true);\n  }\n\n  function inputTwoChange(e: React.FormEvent<HTMLInputElement>) {\n    setinputTwo(Number(e.currentTarget.value));\n    setInputOneChanged(false);\n  }\n\n  function currencyOneChange(e: React.FormEvent<HTMLSelectElement>) {\n    setCurrencyOne(e.currentTarget.value as Currency);\n  }\n\n  function currencyTwoChange(e: React.FormEvent<HTMLSelectElement>) {\n    setCurrencyTwo(e.currentTarget.value as Currency);\n  }\n\n  function processData(data: any) {\n    const rate = data[currencyTwo];\n    setRate(rate);\n  }\n\n  async function getRates() {\n    const data = await api(currencyOne, currencyTwo, startDate);\n    processData(data.rates);\n  }\n\n  let exchangedAmount: number | null;\n\n  if (inputOneChanged) {\n    exchangedAmount =\n      inputOne !== null ? parseFloat((inputOne * rate).toFixed(4)) : null;\n  } else {\n    exchangedAmount =\n      inputTwo !== null ? parseFloat((inputTwo / rate).toFixed(4)) : null;\n  }\n\n  const resultField: string = inputOneChanged\n    ? `${inputOne} ${currencyOne} equals${\" \"}\n${exchangedAmount}${\" \"}\n${currencyTwo}`\n    : `${exchangedAmount} ${currencyOne} equals${\" \"}\n${inputTwo}${\" \"}\n${currencyTwo}`;\n\n  const resultFieldDisplay =\n    inputOne !== null || inputTwo !== null\n      ? resultField\n      : `Fill the inputs to exchange`;\n\n  const displayFieldPadding =\n    inputOne !== null ? { paddingTop: 0 } : { paddingTop: 41.6 };\n\n  const inputOneValue = inputOneChanged\n    ? inputOne || undefined\n    : exchangedAmount || undefined;\n\n  const inputTwoValue = !inputOneChanged\n    ? inputTwo || undefined\n    : exchangedAmount || undefined;\n\n  function disabledOptionSelectOne(props: string) {\n    return currencyTwo === props ? true : false;\n  }\n\n  function disabledOptionSelectTwo(props: string) {\n    return currencyOne === props ? true : false;\n  }\n\n  return {\n    currencyOneChange,\n    currencyTwoChange,\n    inputOne,\n    inputTwo,\n    currencyOne,\n    currencyTwo,\n    exchangedAmount,\n    inputOneChange,\n    inputTwoChange,\n    inputOneChanged,\n    processData,\n    startDate,\n    setStartDate,\n    resultField,\n    resultFieldDisplay,\n    displayFieldPadding,\n    inputOneValue,\n    inputTwoValue,\n    disabledOptionSelectOne,\n    disabledOptionSelectTwo,\n    dateToday,\n  };\n}\n","import { useExchange } from \"./useExchange\";\nimport \"../index.css\";\n\nexport default function Exchanger() {\n  const exchangedValues = useExchange();\n\n  return (\n    <div className=\"mx-auto inline-flex flex-wrap w-full\">\n      <div className=\"w-full inline-flex\">\n        <div className=\"w-min mx-auto\">\n          <div className=\"pl-1 pt-3\">\n            <h3 className=\"font-semibold text-base\">\n              {exchangedValues.resultFieldDisplay}\n            </h3>\n          </div>\n          <form className=\"mt-2\">\n            <input\n              type=\"date\"\n              name=\"date\"\n              value={exchangedValues.startDate}\n              onChange={(e) => exchangedValues.setStartDate(e.target.value)}\n              className=\"rounded-lg mb-2\"\n              max={exchangedValues.dateToday}\n            />\n            <div className=\"mx-auto\">\n              <input\n                name=\"inputOne\"\n                type=\"number\"\n                value={exchangedValues.inputOneValue}\n                onChange={exchangedValues.inputOneChange}\n                placeholder=\"0\"\n                className=\"w-36 rounded-lg mr-2\"\n                autoFocus\n              />\n              <select\n                value={exchangedValues.currencyOne}\n                onChange={exchangedValues.currencyOneChange}\n                className=\"w-36 rounded-lg\"\n                disabled\n              >\n                <option\n                  value=\"EUR\"\n                  disabled={exchangedValues.disabledOptionSelectOne(\"EUR\")}\n                >\n                  EUR\n                </option>\n                <option\n                  value=\"GBP\"\n                  disabled={exchangedValues.disabledOptionSelectOne(\"GBP\")}\n                >\n                  GBP\n                </option>\n                <option\n                  value=\"USD\"\n                  disabled={exchangedValues.disabledOptionSelectOne(\"USD\")}\n                >\n                  USD\n                </option>\n                <option\n                  value=\"PLN\"\n                  disabled={exchangedValues.disabledOptionSelectOne(\"PLN\")}\n                >\n                  PLN\n                </option>\n              </select>\n            </div>\n            <div className=\"mt-2\">\n              <input\n                name=\"inputTwo\"\n                type=\"number\"\n                value={exchangedValues.inputTwoValue}\n                onChange={exchangedValues.inputTwoChange}\n                placeholder=\"0\"\n                className=\"w-36 rounded-lg mr-2\"\n              />\n              <select\n                value={exchangedValues.currencyTwo}\n                onChange={exchangedValues.currencyTwoChange}\n                className=\"w-36 rounded-lg\"\n              >\n                <option\n                  value=\"USD\"\n                  disabled={exchangedValues.disabledOptionSelectTwo(\"USD\")}\n                >\n                  USD\n                </option>\n                <option\n                  value=\"PLN\"\n                  disabled={exchangedValues.disabledOptionSelectTwo(\"PLN\")}\n                >\n                  PLN\n                </option>\n                <option\n                  value=\"GBP\"\n                  disabled={exchangedValues.disabledOptionSelectTwo(\"GBP\")}\n                >\n                  GPB\n                </option>\n                <option\n                  value=\"EUR\"\n                  disabled={exchangedValues.disabledOptionSelectTwo(\"EUR\")}\n                >\n                  EUR\n                </option>\n              </select>\n            </div>\n          </form>\n\n          <p className=\"mt-4 font-thin text-xs pl-1\">\n            source: <a href=\"https://exchangeratesapi.io/\">exchangeratesapi</a>\n          </p>\n          <p className=\"mt-4 font-thin text-xs max-w-xs\">\n            Due to exchangeratesapi is no longer completely free it was needed\n            to remove change of the base currency and historical rates list and\n            the chart in this verion of the app.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","export default function Logo() {\n  return (\n    <div className=\" mx-auto py-6 font-bold text-2xl capitalize\">\n      <img\n        src=\"https://img.icons8.com/wired/64/000000/currency-exchange.png\"\n        alt=\"App logo shows euro and dollar coins\"\n        className=\"mx-auto mb-2\"\n      />\n      <h1 className=\"text-center\">currency exchange app</h1>\n    </div>\n  );\n}\n","import React from \"react\";\nimport Exchanger from \"./components/Exchanger\";\nimport Logo from \"./components/Logo\";\nimport \"./index.css\";\n\nfunction App() {\n  return (\n    <div className=\"max-w-2xl mx-auto\">\n      <Logo />\n      <Exchanger />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}