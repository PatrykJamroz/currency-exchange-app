(this["webpackJsonpcurrency-exchange-app"]=this["webpackJsonpcurrency-exchange-app"]||[]).push([[0],{298:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(0),s=a.n(c),i=a(48),l=a.n(i),r=(a(83),a(31)),o=a.n(r),u=a(74),d=a(17);function j(e,t,a,n){return b.apply(this,arguments)}function b(){return(b=Object(u.a)(o.a.mark((function e(t,a,n,c){var s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="https://api.exchangeratesapi.io/history?start_at=".concat(n,"&end_at=").concat(c,"&base=").concat(t,"&symbols=").concat(a),e.next=3,fetch(s);case 3:return i=e.sent,e.abrupt("return",i.json());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){var e,t=Object(c.useState)(null),a=Object(d.a)(t,2),n=a[0],s=a[1],i=Object(c.useState)(null),l=Object(d.a)(i,2),r=l[0],b=l[1],p=Object(c.useState)("EUR"),O=Object(d.a)(p,2),h=O[0],x=O[1],m=Object(c.useState)("USD"),g=Object(d.a)(m,2),w=g[0],v=g[1],f=Object(c.useState)(1),S=Object(d.a)(f,2),y=S[0],D=S[1],N=Object(c.useState)(""),T=Object(d.a)(N,2),k=T[0],C=T[1],U=Object(c.useState)([]),F=Object(d.a)(U,2),P=F[0],E=F[1],B=Object(c.useState)(!1),G=Object(d.a)(B,2),L=G[0],R=G[1],I=Object(c.useState)(new Date(Date.now()-6048e5).toISOString().replace(/T.*/,"").split("-").join("-")),z=Object(d.a)(I,2),H=z[0],V=z[1],q=(new Date).toISOString().replace(/T.*/,"").split("-").join("-");function J(e){var t=Object.entries(e).map((function(e){var t=Object(d.a)(e,2);return{date:t[0],rate:t[1][w]}})).sort((function(e,t){var a=e.date,n=t.date;return a<n?-1:a>n?1:0}));D(t[t.length-1].rate),C(t[t.length-1].date),E(t)}function K(){return(K=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(h,w,H,q);case 2:J(e.sent.rates);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){!function(){K.apply(this,arguments)}()}),[h,w,H]),e=L?null!==n?parseFloat((n*y).toFixed(4)):null:null!==r?parseFloat((r/y).toFixed(4)):null;var _=L?"".concat(n," ").concat(h," equals"," ","\n").concat(e," ","\n").concat(w):"".concat(e," ").concat(h," equals"," ","\n").concat(r," ","\n").concat(w),A=null!==n||null!==r?_:"Fill the inputs to exchange",M=new Date(k).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"}),Q=null!==n?{paddingTop:0}:{paddingTop:41.6},W=L?n||void 0:e||void 0,X=L?e||void 0:r||void 0,Y=new Date(H).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"}),Z=new Date(k).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"});return{currencyOneChange:function(e){x(e.currentTarget.value)},currencyTwoChange:function(e){v(e.currentTarget.value)},inputOne:n,inputTwo:r,currencyOne:h,currencyTwo:w,exchangedAmount:e,inputOneChange:function(e){s(Number(e.currentTarget.value)),R(!0)},inputTwoChange:function(e){b(Number(e.currentTarget.value)),R(!1)},date:k,inputOneChanged:L,processedData:P,processData:J,handleStartDate:function(e){switch(e.target.value){case"week":V(new Date(Date.now()-6048e5).toISOString().replace(/T.*/,"").split("-").join("-"));break;case"month":V(new Date(Date.now()-26298e5).toISOString().replace(/T.*/,"").split("-").join("-"));break;case"year":V(new Date(Date.now()-315576e5).toISOString().replace(/T.*/,"").split("-").join("-"))}},startDate:H,resultField:_,resultFieldDisplay:A,resultFieldDate:M,displayFieldPadding:Q,inputOneValue:W,inputTwoValue:X,ratesHistoryStartDate:Y,ratesHistoryEndDate:Z,disabledOptionSelectOne:function(e){return w===e},disabledOptionSelectTwo:function(e){return h===e}}}var O=a(306),h=a(304),x=a(303),m=a(151),g=a(152),w=a(81),v=a(154);function f(e){var t=Object(n.jsx)(O.a,{width:"100%",height:150,children:Object(n.jsxs)(h.a,{width:330,height:150,data:e.data,margin:{left:-20,right:5,top:5,bottom:0},children:[Object(n.jsx)(x.a,{vertical:!1}),Object(n.jsx)(m.a,{dataKey:"date",style:{fontSize:12},interval:"preserveEnd"}),Object(n.jsx)(g.a,{type:"number",domain:["auto","auto"],style:{fontSize:12}}),Object(n.jsx)(w.a,{separator:": ",labelStyle:{fontSize:12},contentStyle:{fontSize:12},itemStyle:{color:"black"},cursor:!0}),Object(n.jsx)(v.a,{type:"linear",dataKey:"rate",stroke:"000000",fill:"#000000",fillOpacity:"80%"})]})});return Object(n.jsx)("div",{children:t})}function S(){var e=p();return Object(n.jsxs)("div",{className:"mx-auto inline-flex flex-wrap w-full",children:[Object(n.jsx)("div",{className:"w-full md:w-1/2 inline-flex",children:Object(n.jsxs)("div",{className:"w-min mx-auto",children:[Object(n.jsxs)("div",{className:"pl-1 pt-3",children:[Object(n.jsx)("h3",{className:"font-semibold text-base",children:e.resultFieldDisplay}),Object(n.jsx)("p",{className:"font-thin text-xs",children:e.resultFieldDate})]}),Object(n.jsxs)("form",{className:"mt-2",children:[Object(n.jsxs)("div",{className:"mx-auto",children:[Object(n.jsx)("input",{name:"inputOne",type:"number",value:e.inputOneValue,onChange:e.inputOneChange,placeholder:"0",className:"w-36 rounded-lg mr-2",autoFocus:!0}),Object(n.jsxs)("select",{value:e.currencyOne,onChange:e.currencyOneChange,className:"w-36 rounded-lg",children:[Object(n.jsx)("option",{value:"EUR",disabled:e.disabledOptionSelectOne("EUR"),children:"EUR"}),Object(n.jsx)("option",{value:"GBP",disabled:e.disabledOptionSelectOne("GBP"),children:"GBP"}),Object(n.jsx)("option",{value:"USD",disabled:e.disabledOptionSelectOne("USD"),children:"USD"}),Object(n.jsx)("option",{value:"PLN",disabled:e.disabledOptionSelectOne("PLN"),children:"PLN"})]})]}),Object(n.jsxs)("div",{className:"mt-2",children:[Object(n.jsx)("input",{name:"inputTwo",type:"number",value:e.inputTwoValue,onChange:e.inputTwoChange,placeholder:"0",className:"w-36 rounded-lg mr-2"}),Object(n.jsxs)("select",{value:e.currencyTwo,onChange:e.currencyTwoChange,className:"w-36 rounded-lg",children:[Object(n.jsx)("option",{value:"USD",disabled:e.disabledOptionSelectTwo("USD"),children:"USD"}),Object(n.jsx)("option",{value:"PLN",disabled:e.disabledOptionSelectTwo("PLN"),children:"PLN"}),Object(n.jsx)("option",{value:"GBP",disabled:e.disabledOptionSelectTwo("GBP"),children:"GPB"}),Object(n.jsx)("option",{value:"EUR",disabled:e.disabledOptionSelectTwo("EUR"),children:"EUR"})]})]})]}),Object(n.jsxs)("p",{className:"mt-4 font-thin text-xs pl-1",children:["source: ",Object(n.jsx)("a",{href:"https://exchangeratesapi.io/",children:"exchangeratesapi"})]})]})}),Object(n.jsxs)("div",{className:"w-full md:w-1/2",children:[Object(n.jsx)("div",{className:"mt-5 w-11/12 mx-auto",children:Object(n.jsx)(f,{data:e.processedData,className:""})}),Object(n.jsxs)("div",{className:"grid grid-cols-3 gap-2 w-60 mx-auto text-white",children:[Object(n.jsx)("div",{className:"inline",children:Object(n.jsx)("input",{type:"button",value:"week",onClick:e.handleStartDate,className:"w-full bg-black"})}),Object(n.jsx)("div",{className:"inline",children:Object(n.jsx)("input",{type:"button",value:"month",onClick:e.handleStartDate,className:"w-full bg-black"})}),Object(n.jsx)("div",{className:"inline ",children:Object(n.jsx)("input",{type:"button",value:"year",onClick:e.handleStartDate,className:"w-full bg-black"})})]})]}),Object(n.jsxs)("div",{className:"pl-1 pr-10 mt-5 pl-2",children:[Object(n.jsxs)("h1",{className:" text-base font-medium underline",children:["Rates history between ",e.ratesHistoryStartDate," and"," ",e.ratesHistoryEndDate,":"]}),e.processedData.map((function(e){return Object(n.jsxs)("p",{children:[new Date(e.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),": ",e.rate.toFixed(4)]})}))]})]})}function y(){return Object(n.jsxs)("div",{className:" mx-auto py-6 font-bold text-2xl capitalize",children:[Object(n.jsx)("img",{src:"https://img.icons8.com/wired/64/000000/currency-exchange.png",className:"mx-auto mb-2"}),Object(n.jsx)("h1",{className:"text-center",children:"currency exchange app"})]})}var D=function(){return Object(n.jsxs)("div",{className:"max-w-2xl mx-auto",children:[Object(n.jsx)(y,{}),Object(n.jsx)(S,{})]})};l.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(D,{})}),document.getElementById("root"))},83:function(e,t,a){}},[[298,1,2]]]);
//# sourceMappingURL=main.eb54bbc5.chunk.js.map